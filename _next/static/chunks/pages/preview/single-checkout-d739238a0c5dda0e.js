(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[808],{44050:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/preview/single-checkout",function(){return a(28701)}])},59965:function(e,n,a){"use strict";a.d(n,{Z:function(){return s}});var t=a(85893),r=a(41664);function s(e){var n=e.title,a=e.breadcrumb;return(0,t.jsx)("div",{className:"page-title-overlap bg-dark pt-4 w-100",children:(0,t.jsxs)("div",{className:"container d-lg-flex justify-content-between py-2 py-lg-3",children:[(0,t.jsx)("div",{className:"order-lg-2 mb-3 mb-lg-0 pt-lg-2",children:(0,t.jsx)("nav",{"aria-label":"breadcrumb",children:(0,t.jsxs)("ol",{className:"breadcrumb breadcrumb-light flex-lg-nowrap justify-content-center justify-content-lg-start",children:[(0,t.jsx)("li",{className:"breadcrumb-item",children:(0,t.jsx)(r.default,{href:"/",passHref:!0,children:(0,t.jsxs)("a",{className:"text-nowrap",children:[(0,t.jsx)("i",{className:"ci-home"}),"Home"]})})}),(0,t.jsx)("li",{className:"breadcrumb-item text-nowrap",children:(0,t.jsx)(r.default,{href:"/shop",passHref:!0,children:(0,t.jsx)("a",{children:"Shop"})})}),(0,t.jsx)("li",{className:"breadcrumb-item text-nowrap active","aria-current":"page",children:a})]})})}),(0,t.jsx)("div",{className:"order-lg-1 pe-lg-4 text-center text-lg-start",children:(0,t.jsx)("h1",{className:"h3 text-light mb-0",children:n})})]})})}},20217:function(e,n,a){"use strict";a.d(n,{Z:function(){return o}});var t=a(85893),r=a(41664),s=a(87968),i=a(40546),c=a(51581);function l(e){var n=e.item;return(0,t.jsxs)("div",{className:"d-flex align-items-center py-2 border-bottom",children:[(0,t.jsx)(r.default,{href:"/shop-single-v1",passHref:!0,children:(0,t.jsx)("a",{className:"d-block flex-shrink-0",children:(0,t.jsx)("img",{src:n.product.images[0].file.url,alt:n.product.name,width:"64"})})}),(0,t.jsxs)("div",{className:"ps-2",children:[(0,t.jsx)("h6",{className:"widget-product-title",children:(0,t.jsx)(r.default,{href:"/products/".concat(n.product.slug),passHref:!0,children:(0,t.jsx)("a",{children:n.product.name})})}),(0,t.jsxs)("div",{className:"widget-product-meta d-flex align-items-baseline",children:[(0,t.jsx)("span",{className:"text-accent me-2",children:(0,t.jsx)(i.Z,{price:n.price})}),(0,t.jsxs)("span",{className:"text-muted",children:["x ",n.quantity]})]})]})]})}function o(e){var n=e.cart,a=(0,c.Z)(),r=a.loading,o=a.couponInputHandler,d=a.onSubmitCoupon;return(0,t.jsx)("aside",{className:"col-lg-4 pt-4 pt-lg-0 ps-xl-5",children:(0,t.jsx)("div",{className:"bg-white rounded-3 shadow-lg p-4 ms-lg-auto",children:(0,t.jsxs)("div",{className:"py-2 px-xl-2",children:[(0,t.jsxs)("div",{className:"widget mb-3",children:[(0,t.jsx)("h2",{className:"widget-title text-center",children:"Order summary"}),n&&n.items.map((function(e,n){return(0,t.jsx)(l,{item:e},"".concat(e.productId,"-").concat(n,"}"))}))]}),n&&(0,t.jsxs)("ul",{className:"list-unstyled fs-sm pb-2 border-bottom",children:[(0,t.jsxs)("li",{className:"d-flex justify-content-between align-items-center",children:[(0,t.jsx)("span",{className:"me-2",children:"Subtotal:"}),(0,t.jsx)("span",{className:"text-end",children:(0,t.jsx)(i.Z,{price:n.subTotal})})]}),(0,t.jsxs)("li",{className:"d-flex justify-content-between align-items-center",children:[(0,t.jsx)("span",{className:"me-2",children:"Shipping:"}),(0,t.jsx)("span",{className:"text-end",children:(0,t.jsx)(i.Z,{price:n.shipmentTotal})})]}),(0,t.jsxs)("li",{className:"d-flex justify-content-between align-items-center",children:[(0,t.jsx)("span",{className:"me-2",children:"Taxes:"}),(0,t.jsx)("span",{className:"text-end",children:(0,t.jsx)(i.Z,{price:n.taxTotal})})]}),(0,t.jsxs)("li",{className:"d-flex justify-content-between align-items-center",children:[(0,t.jsx)("span",{className:"me-2",children:"Discount:"}),(0,t.jsx)("span",{className:"text-end",children:(0,t.jsx)(i.Z,{price:n.discountTotal})})]})]}),n&&(0,t.jsx)("h3",{className:"fw-normal text-center my-4",children:(0,t.jsx)(i.Z,{price:n.grandTotal})}),(0,t.jsxs)("form",{onSubmit:d,className:"needs-validation",children:[(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("input",{className:"form-control",type:"text",onChange:o,placeholder:"Promo code",required:!0}),(0,t.jsx)("div",{className:"invalid-feedback",children:"Please provide promo code."})]}),(0,t.jsx)(s.z,{className:"btn btn-outline-primary d-block w-100",loading:r,disable:r,text:"Apply promo code",type:"submit"})]})]})})})}},5769:function(e,n,a){"use strict";a.d(n,{Z:function(){return u}});var t=a(85893),r=a(9008),s=a(4298),i=a(26395),c=a(34967),l=a(32519),o=a(65988);function d(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{id:"bar",className:"jsx-d674f3251d8e2de7",children:(0,t.jsx)("div",{className:"jsx-d674f3251d8e2de7"})}),(0,t.jsx)(o.default,{id:"d674f3251d8e2de7",children:'#bar.jsx-d674f3251d8e2de7 {position:fixed;\nz-index:1000000;\ntop:0px;\nleft:50%;\n-webkit-transform:translate(-50%, -50%);\n-moz-transform:translate(-50%, -50%);\n-ms-transform:translate(-50%, -50%);\n-webkit-transform:translate(-50%, -50%);\n-moz-transform:translate(-50%, -50%);\n-ms-transform:translate(-50%, -50%);\ntransform:translate(-50%, -50%);\nwidth:100%;\nheight:15px;\nbackground:#f9b3b3;\noverflow:hidden}\n#bar.jsx-d674f3251d8e2de7 div.jsx-d674f3251d8e2de7::before {content:"";\nposition:absolute;\ntop:0px;\nleft:0px;\nbottom:0px;\nbackground:#f54c4c;\n-webkit-animation:Line1 2100ms cubic-bezier(0.65, 0.81, 0.73, 0.4) infinite;\n-webkit-animation:Line1 1000ms cubic-bezier(0.65, 0.81, 0.73, 0.4) infinite;\nanimation:Line1 1000ms cubic-bezier(0.65, 0.81, 0.73, 0.4) infinite}\n@keyframes Line1 {0% {left:-35%;\nright:100%}60%, 100% {left:100%;\nright:-90%}}\n#bar.jsx-d674f3251d8e2de7 div.jsx-d674f3251d8e2de7:after {content:"";\nposition:absolute;\ntop:0px;\nleft:0px;\nbackground:#f54c4c;\n-webkit-animation:Line2 2100ms cubic-bezier(0.16, 0.84, 0.44, 1) infinite;\n-webkit-animation:Line2 1500ms cubic-bezier(0.16, 0.84, 0.44, 1) infinite;\nanimation:Line2 1500ms cubic-bezier(0.16, 0.84, 0.44, 1) infinite;\nanimation-delay:20ms}\n@keyframes Line2 {0% {left:-200%;\nright:100%}60%, 100% {left:107%;\nright:-8%}}'})]})}var m=a(18079);function u(e){var n=e.children,a=e.title,o=(0,m.Z)().loading;return(0,t.jsxs)(l.Z,{children:[(0,t.jsx)(s.default,{strategy:"beforeInteractive",id:"truconversionScript",children:"\n        var _tip = _tip || [];\n        (function(d,s,id){\n            var js, tjs = d.getElementsByTagName(s)[0];\n            if(d.getElementById(id)) { return; }\n            js = d.createElement(s); js.id = id;\n            js.async = true;\n            js.src = d.location.protocol + '//app.truconversion.com/ti-js/19189/ae4b0.js';\n            tjs.parentNode.insertBefore(js, tjs);\n        }(document, 'script', 'ti-js'));                       \n      "}),(0,t.jsxs)(r.default,{children:[(0,t.jsxs)("title",{children:["Docs Supplies | ",a]}),(0,t.jsx)("script",{src:"https://en.trustmate.io/api/widget/4420c1ed-e3a7-47c2-b6a2-2d7386a819da/script",defer:!0}),(0,t.jsx)("script",{src:"https://en.trustmate.io/api/widget/01739a85-4698-4d4c-90d5-876048fba847/script",defer:!0})]}),o&&(0,t.jsx)(d,{}),(0,t.jsx)(i.Z,{headerSliderText1:"Free shipping Worldwide",headerSliderText2:"Trusted by Doctors & Medical Professionals",headerSliderText3:"Delivery to your doorstep",icon1:"globe.png",icon2:"checkIcon.png",icon3:"delivery.png",support:"00123-456-789",topbarBgColor:"#373F50",navBgColor:"white",local:!0}),n,(0,t.jsx)("div",{id:"4420c1ed-e3a7-47c2-b6a2-2d7386a819da"}),(0,t.jsx)("div",{id:"01739a85-4698-4d4c-90d5-876048fba847"}),(0,t.jsx)(c.Z,{topSectionBgColor:"#373F50",bottomSectionBgColor:"#2B3445"})]})}},28701:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return ae}});var t=a(85893),r=a(67294),s=a(5769),i=a(59965),c=a(18867),l=a(65988),o=a(82580),d=JSON.parse('{"v6":{"k":[[{"name":"firstName","id":"checkout-firstName","label":"First name *","type":"input","inputType":"text"},{"name":"lastName","id":"checkout-lastName","label":"Last name *","type":"input","inputType":"text"}],[{"name":"email","label":"E-mail *","id":"checkout-email","type":"input","inputType":"email"},{"name":"companyName","id":"checkout-companyName","label":"Company\'s name *","type":"input","inputType":"text"}],[{"name":"country","type":"selectCountry","id":"checkout-country","label":"Country *"},{"name":"address1","type":"searchLocationInput","id":"checkout-address1","inputType":"text","label":"Address - Line 1 *"}]]},"Y2":{"k":[{"flag":"/logo/ukFlag.webp","currencyCode":"GBP","currency":"Great Britain Pound","vboutListCode":"55747","country":"United Kingdom"},{"flag":"/logo/europeFlag.png","currencyCode":"EUR","currency":"Euro","vboutListCode":"55748","country":"Estonia (Europe)"},{"flag":"/logo/australia.webp","currencyCode":"AUD","currency":"Australian Dollar","vboutListCode":"55746","country":"Australia"},{"flag":"/logo/usaFlag.svg","currencyCode":"USD","currency":"United States Dollar","vboutListCode":"55580","country":"United States"},{"flag":"/logo/hongkongFlag.png","currencyCode":"HKD","currency":"Hong Kong Dollar","vboutListCode":"55745","country":"Hong Kong (China)"}]}}'),m=a(74231),u=m.Ry({firstName:m.Z_().required("First name is required"),lastName:m.Z_().required("Last name is required"),email:m.Z_().email("Enter a valid email address").required("E-mail address is required"),companyName:m.Z_().required("Company name is required"),country:m.Z_().required("Country is required"),state:m.Z_().required("State is required"),city:m.Z_().required("City is required"),zip:m.Z_().required("Zip Code is required"),address1:m.Z_().required("Address is required"),address2:m.Z_().notRequired()}),f=a(50950),p=a(39226);const x={prod:"checkout.airwallex.com",demo:"checkout-demo.airwallex.com",staging:"checkout-staging.airwallex.com",qa:"checkoutui.qa.awx.im",preview:"checkoutui.preview.awx.im",dev:"localhost:3000"},b=e=>`https://${x[e]||x.prod}`,h="/assets/elements.bundle.min.js",j=async e=>{if("undefined"==typeof window)return null;if(window.Airwallex)return window.Airwallex;let n=0;const a=async()=>{const n=document.querySelector(`script[src="${h}"], script[src="${h}/"]`)||(e=>{const n=document.createElement("script");n.src=`${e}${h}`;const a=document.head||document.body;if(!a)throw new Error("Airwallex payment scripts requires a <head> or <body> html element in order to be loaded.");return a.appendChild(n),n})(b((null==e?void 0:e.env)||"prod"));return new Promise(((a,t)=>{n.addEventListener("load",(()=>{window.Airwallex?(window.Airwallex.init(e),a(window.Airwallex)):t(new Error("Failed to load Airwallex on load event"))})),n.addEventListener("error",(()=>{t(new Error("Failed to load Airwallex scripts")),n.remove&&n.remove()}))}))};for(;n<3;)try{return await a()}catch(e){n++,await new Promise((e=>window.setTimeout(e,500)))}return null};var g=a(11163);function y(e){var n=e.intent_id,a=e.client_secret,s=(0,r.useState)(!1),i=s[0],c=s[1],l=(0,r.useState)(!1),o=l[0],d=l[1],m=(0,r.useState)(""),u=m[0],f=m[1],p=(0,g.useRouter)();(0,r.useEffect)((function(){j({env:"demo",origin:window.location.origin,fonts:[{src:"https://checkout.airwallex.com/fonts/CircularXXWeb/CircularXXWeb-Regular.woff2",family:"AxLLCircular",weight:400}]}).then((function(){var e;null===(e=((e,n)=>window.Airwallex?window.Airwallex.createElement(e,n):(console.error("Please loadAirwallex() before createElement();"),null))("card"))||void 0===e||e.mount("airwallexCard")}));var e=function(e){c(!0),console.log("Elements ready with ".concat(JSON.stringify(e.detail)))},n=function(e){var n,a=e.detail.error;d(!1),f(null!==(n=a.message)&&void 0!==n?n:JSON.stringify(a)),console.error("There is an error",a)};return window.addEventListener("onReady",e),window.addEventListener("onError",n),function(){window.removeEventListener("onReady",e),window.removeEventListener("onError",n)}}),[]);return(0,t.jsxs)("div",{children:[!i&&(0,t.jsx)("p",{children:"Loading..."}),u.length>0&&(0,t.jsx)("p",{className:"alert bg-danger text-white text-center fw-bold",id:"error",children:u}),(0,t.jsxs)("div",{className:"field-container",style:{display:i?"block":"none"},children:[(0,t.jsx)("div",{id:"airwallexCard",className:"form-control"}),(0,t.jsx)("button",{className:"btn btn-outline-primary d-flex m-auto mt-4 mb-2",onClick:function(){d(!0),f("");var e=(e=>window.Airwallex?window.Airwallex.getElement(e):(console.error("Please loadAirwallex() before getElement();"),null))("card");e&&(async e=>{if(window.Airwallex)return window.Airwallex.confirmPaymentIntent(e);{const e="Please loadAirwallex() before confirmPaymentIntent();";throw console.error(e),new Error(e)}})({element:e,id:n,client_secret:a,payment_method_options:{card:{auto_capture:!0}}}).then((function(e){d(!1),window.alert("Payment Intent confirmation was successful: ".concat(JSON.stringify(e))),p.push("/checkout-complete")})).catch((function(e){var n;d(!1),f(null!==(n=e.message)&&void 0!==n?n:JSON.stringify(e)),console.error("There is an error",e)}))},disabled:o,children:"Submit"})]})]})}var v=a(20217),w=JSON.parse('[[{"name":"city","type":"input","inputType":"text","label":"City *"},{"name":"zip","type":"input","inputType":"text","label":"Zip code *"}],[{"name":"state","type":"input","inputType":"text","label":"State *"},{"name":"address2","type":"input","inputType":"text","label":"Address - Line 2"}]]');function N(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function k(e){var n=e.formik,a=function(e){e.preventDefault(),n.setValues(function(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{},t=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),t.forEach((function(n){N(e,n,a[n])}))}return e}({},n.values,N({},e.target.name,e.target.value)))};return(0,t.jsx)("div",{children:w.map((function(e,r){return(0,t.jsx)("div",{className:"row",children:e.map((function(e,r){return(0,t.jsx)("div",{className:"col-sm-6",children:(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"form-label",htmlFor:e.name,children:e.label}),(0,t.jsx)("input",{value:n.values[e.name],className:"form-control",onChange:a,name:e.name}),(0,t.jsx)("p",{style:{fontSize:"12px"},className:"text-danger",children:n.errors[e.name]&&n.errors[e.name]})]})},r)}))},r)}))})}var S=function(e){return{href:e.stage1?"#payment":"nill",headClassName:e.stage1?"accordion-button":"accordion-button collapsed",bodyClassName:e.stage1?"accordion-collapse collapse show":"accordion-collapse collapse",shippingBody:e.stage1?"accordion-collapse collapse":"accordion-collapse collapse show",shippingHead:e.stage1?"accordion-button collapsed":"accordion-button"}},C=a(79304);function E(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function T(e){var n=e.formStages,a=e.setFormStages,r=S(n),s=function(){var e=(0,p.C)((function(e){return e.auth})).userDetail,n=(0,p.C)((function(e){return e.payment})).paymentForm;return{formValues:{firstName:n?n.firstName:e?e.firstName:"",lastName:n?n.lastName:e?e.lastName:"",email:n?n.email:e?e.email:"",companyName:n?n.companyName:"",country:n?n.country:"",address1:n?n.address1:"",state:n?n.state:"",city:n?n.city:"",zip:n?n.zip:"",address2:n?n.address2:""}}}().formValues,i=(0,p.T)();return(0,t.jsxs)("div",{className:"jsx-f28306856e6ec443 accordion-item",children:[(0,t.jsx)("h2",{className:"jsx-f28306856e6ec443 h6 pt-1 pb-3 mb-3 accordion-header",children:(0,t.jsxs)("a",{href:"#form1","data-bs-toggle":"collapse",className:"jsx-f28306856e6ec443 "+(r.shippingHead||""),children:[(0,t.jsx)("span",{className:"jsx-f28306856e6ec443 badge-custom me-2",children:"1"}),"Shipping address"]})}),(0,t.jsx)("div",{id:"form1","data-bs-parent":"#shipping-form",className:"jsx-f28306856e6ec443 "+(r.shippingBody||""),children:(0,t.jsx)("div",{className:"jsx-f28306856e6ec443 accordion-body",children:(0,t.jsx)(o.J9,{initialValues:s,validationSchema:u,onSubmit:function(e,t){var r=t.setSubmitting;a(function(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{},t=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),t.forEach((function(n){E(e,n,a[n])}))}return e}({},n,{shippingForm:e,stage1:!0})),r(!1),i((0,C.s8)({form:e,completed:!0}))},children:function(e){return(0,t.jsxs)("form",{onSubmit:e.handleSubmit,className:"jsx-f28306856e6ec443",children:[(0,t.jsxs)("div",{className:"jsx-f28306856e6ec443",children:[d.v6.k.map((function(n,a){return(0,t.jsx)("div",{className:"jsx-f28306856e6ec443 row",children:n.map((function(n,a){return(0,t.jsx)("div",{className:"jsx-f28306856e6ec443 col-sm-6",children:(0,f.Bu)(n,e)},a)}))},a)})),(0,t.jsx)(k,{formik:e})]}),(0,t.jsx)("button",{type:"submit",disabled:e.isSubmitting,className:"jsx-f28306856e6ec443 btn btn-outline-primary d-flex mt-3 mb-2 mx-auto font-bold",children:"Proceed"})]})}})})}),(0,t.jsx)(l.default,{id:"f28306856e6ec443",children:".badge-custom.jsx-f28306856e6ec443 {height:25px;\nwidth:25px;\nbackground-color:#fe696a;\ncolor:white;\ndisplay:-webkit-box;\ndisplay:-webkit-flex;\ndisplay:-ms-flexbox;\ndisplay:flex;\n-webkit-justify-content:center;\njustify-content:center;\n-webkit-align-items:center;\n-webkit-box-align:center;\n-ms-flex-align:center;\nalign-items:center;\nborder-radius:50%;\nfont-weight:bold;\nfont-size:14px}"})]})}var A=a(9669),_=a.n(A),P=a(25934);function Z(e){this.message=e}Z.prototype=new Error,Z.prototype.name="InvalidCharacterError";var L="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var n=String(e).replace(/=+$/,"");if(n.length%4==1)throw new Z("'atob' failed: The string to be decoded is not correctly encoded.");for(var a,t,r=0,s=0,i="";t=n.charAt(s++);~t&&(a=r%4?64*a+t:t,r++%4)?i+=String.fromCharCode(255&a>>(-2*r&6)):0)t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(t);return i};function O(e){this.message=e}O.prototype=new Error,O.prototype.name="InvalidTokenError";var q=function(e,n){if("string"!=typeof e)throw new O("Invalid token specified");var a=!0===(n=n||{}).header?0:1;try{return JSON.parse(function(e){var n=e.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(L(e).replace(/(.)/g,(function(e,n){var a=n.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a})))}(n)}catch(e){return L(n)}}(e.split(".")[a]))}catch(e){throw new O("Invalid token specified: "+e.message)}},I=a(73499);function D(e){return!!e&&function(e){var n=1e3*(Number(e)-600),a=new Date;return new Date(n)>a}(function(e){return q(e)}(e).exp)}var z=a(14333),F=a(19789);function B(){var e=(0,z.T)(),n=(0,F.Z)().cart,a=(0,p.C)((function(e){return e.airwallex})),t={paymentDetails:n&&{request_id:(0,P.Z)(),amount:n.grandTotal,currency:null===n||void 0===n?void 0:n.currency,merchant_order_id:null===n||void 0===n?void 0:n.id,order:{products:null===n||void 0===n?void 0:n.items}},auth:null===a||void 0===a?void 0:a.accessToken};return{generateAirwallexAccessToken:function(){var n;!!(n=null===a||void 0===a?void 0:a.tokenExpiryDate)&&new Date(n)>new Date?e((0,I.lX)(!0)):(e((0,I.lX)(!1)),function(e){_().get("/api/get-payment-token").then((function(n){var a=n.data;console.log("paymentToken",a);var t={accessToken:a.token,tokenExpiryDate:a.expires_at};e((0,I.xl)(t)),e((0,I.lz)(null))})).catch((function(n){console.log("error",n),e((0,I.lz)(null===n||void 0===n?void 0:n.message))}))}(e))},airwallex:a,airwallexPaymentIntent:function(){if(n)return _().post("/api/create-payment-intent",t).then((function(n){var a={clientSecret:n.data.client_secret,paymentIntentId:n.data.id};e((0,I.ud)(a)),e((0,I.lz)(null))})).catch((function(n){console.log("error",n),e((0,I.lz)(null===n||void 0===n?void 0:n.message))}))}}}var R=a(40782),H=a(52705);function U(){var e=function(e){s(e.target.value)},n=(0,r.useState)(""),a=n[0],s=n[1],i=(0,H.Z)().sendBankTransfer,o=(0,p.C)((function(e){return e.payment})).paymentForm,m=(0,c.pm)(),u=m.isLoading,f=m.hasError,x=m.isSuccessful,b=(0,c.r$)().updateLoadingState;return console.log("bank",a),(0,t.jsxs)("div",{className:"jsx-8bbbcd50f8ac3ba8 accordion-item",children:[(0,t.jsx)("h3",{className:"jsx-8bbbcd50f8ac3ba8 accordion-header",children:(0,t.jsxs)("a",{href:"#points","data-bs-toggle":"collapse",className:"jsx-8bbbcd50f8ac3ba8 accordion-button collapsed",children:[(0,t.jsx)("i",{className:"jsx-8bbbcd50f8ac3ba8 ci-gift me-2"}),"Bank Transfer"]})}),(0,t.jsxs)("div",{id:"points","data-bs-parent":"#payment-method",className:"jsx-8bbbcd50f8ac3ba8 accordion-collapse collapse",children:[(0,t.jsx)("p",{className:"jsx-8bbbcd50f8ac3ba8 mt-2 mb-0 text-center",children:"Please select your preferred country and currency pair for payment to our bank accounts"}),(0,t.jsx)("div",{className:"jsx-8bbbcd50f8ac3ba8 accordion-body",children:(0,t.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=u();b(),i(null===o||void 0===o?void 0:o.email,a).then((function(e){console.log("response sendBankTransfer",e),x(n,"An email has been sent to ".concat(null===o||void 0===o?void 0:o.email)),b()})).catch((function(e){console.error("error sendBankTransfer",e),f(n,"an error occured"),b()}))},className:"jsx-8bbbcd50f8ac3ba8",children:[(0,t.jsxs)("table",{className:"jsx-8bbbcd50f8ac3ba8 manualTransfer mb-3",children:[(0,t.jsx)("thead",{className:"jsx-8bbbcd50f8ac3ba8",children:(0,t.jsxs)("tr",{className:"jsx-8bbbcd50f8ac3ba8 border-bottom",children:[(0,t.jsx)("th",{className:"jsx-8bbbcd50f8ac3ba8",children:"CURRENCY"}),(0,t.jsx)("th",{className:"jsx-8bbbcd50f8ac3ba8",children:"BANK LOCATION"})]})}),(0,t.jsx)("tbody",{className:"jsx-8bbbcd50f8ac3ba8",children:d.Y2.k.map((function(n,a){return(0,t.jsxs)("tr",{className:"jsx-8bbbcd50f8ac3ba8 border-bottom",children:[(0,t.jsxs)("td",{className:"jsx-8bbbcd50f8ac3ba8 d-flex align-items-center my-1",children:[(0,t.jsx)("input",{type:"radio",name:"bankTransfer",onChange:e,value:n.vboutListCode,required:!0,className:"jsx-8bbbcd50f8ac3ba8"}),(0,t.jsxs)("div",{className:"jsx-8bbbcd50f8ac3ba8 d-flex align-items-center",children:[(0,t.jsx)("img",{src:n.flag,alt:n.country,height:"30px",width:"30px",className:"jsx-8bbbcd50f8ac3ba8 mx-3"}),(0,t.jsxs)("div",{className:"jsx-8bbbcd50f8ac3ba8 currency d-flex flex-column",children:[(0,t.jsx)("h6",{className:"jsx-8bbbcd50f8ac3ba8 fw-bold",children:n.currencyCode}),(0,t.jsx)("p",{className:"jsx-8bbbcd50f8ac3ba8 text-muted",children:n.currency})]})]})]}),(0,t.jsx)("td",{className:"jsx-8bbbcd50f8ac3ba8",children:(0,t.jsx)("p",{className:"jsx-8bbbcd50f8ac3ba8 mb-0",children:n.country})})]},a)}))})]}),(0,t.jsx)("button",{type:"submit",className:"jsx-8bbbcd50f8ac3ba8 btn btn-outline-primary d-flex m-auto",children:"Submit"})]})})]}),(0,t.jsx)(l.default,{id:"8bbbcd50f8ac3ba8",children:".manualTransfer.jsx-8bbbcd50f8ac3ba8 th.jsx-8bbbcd50f8ac3ba8 {width:300px}"})]})}function J(){var e=B().airwallex;return(0,t.jsxs)("div",{className:"accordion-item",children:[(0,t.jsx)("h3",{className:"accordion-header",children:(0,t.jsxs)("a",{className:"accordion-button collapsed",href:"#paypal","data-bs-toggle":"collapse",children:[(0,t.jsx)("i",{className:"ci-paypal me-2 align-middle"}),"Pay with Airwallex"]})}),(0,t.jsx)("div",{className:"accordion-collapse collapse",id:"paypal","data-bs-parent":"#payment-method",children:(0,t.jsxs)("div",{className:"accordion-body fs-sm",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"fw-medium",children:"Airwallex"})," - the safer, easier way to pay"]}),e.paymentIntentId&&e.clientSecret&&(0,t.jsx)(y,{intent_id:e.paymentIntentId,client_secret:e.clientSecret})]})})]})}var X=a(74872),$={base:"form-control StripeElement"};var K=a(87968),Y=a(58538),V=a(27713),W=a.n(V);function G(e){var n=e.inputRef;return(0,t.jsx)("div",{className:"mb-0 col-sm-12",children:(0,t.jsx)("div",{ref:n,id:"card-element-id"})})}function M(e){var n=e.makePaymentHandler,a=e.loading;!function(){var e=(0,X.Z)(),n=e.swell;(0,e.initializeSwell)(),(0,r.useEffect)((function(){n.payment.createElements({card:{elementId:"#card-element-id",options:{classes:$,placeholder:"Credit Card Number",showIcon:!0,iconStyle:"solid"}}})}),[])}();var s=(0,r.useRef)(null),i=null===s;return(0,t.jsxs)("div",{className:"jsx-2f71c1976d754734 row px-0 d-flex flex-column",children:[(0,t.jsx)("div",{className:"jsx-2f71c1976d754734 d-flex mx-auto justify-content-center",children:null===s&&(0,t.jsx)(Y.ZP,{})}),(0,t.jsx)(G,{inputRef:s}),(0,t.jsx)("div",{className:"jsx-2f71c1976d754734 col-4 mx-auto mt-3",children:(0,t.jsx)(K.z,{onClick:n,disable:i,className:"".concat(W().uiElement," btn-outline-primary d-block w-100 mt-0"),text:"Submit",loading:a})}),(0,t.jsx)(l.default,{id:"2f71c1976d754734",children:"button.btn.jsx-2f71c1976d754734 {position:relative}\n.loading.jsx-2f71c1976d754734 {margin-left:35px}"})]})}function Q(e){var n=e.formStages,a=(0,r.useState)(!1),s=(a[0],a[1]),i=(0,c.jB)(),l=i.makePayment,o=i.loadingState;return(0,t.jsxs)("div",{className:"accordion-item",children:[(0,t.jsx)("h3",{className:"accordion-header",children:(0,t.jsxs)("a",{className:"accordion-button",href:"#card","data-bs-toggle":"collapse",children:[(0,t.jsx)("i",{className:"ci-card fs-lg me-2 mt-n1 align-middle"}),"Pay with Credit Card (powered by Stripe)"]})}),(0,t.jsx)("div",{className:"accordion-collapse collapse show",id:"card","data-bs-parent":"#payment-method",children:(0,t.jsxs)("div",{className:"accordion-body",children:[(0,t.jsxs)("p",{className:"fs-sm",children:["We accept following credit cards:\xa0\xa0",(0,t.jsx)("img",{className:"d-inline-block align-middle",src:"/img/cards.png",width:"187",alt:"Cerdit Cards"})]}),(0,t.jsx)(M,{loading:o,makePaymentHandler:function(){s(!0),console.log("formStages.shippingForm",n.shippingForm),l(n.shippingForm,s).then((function(e){return console.log("makePayment",e)})).catch((function(e){return console.error("error",e)}))}})]})})]})}function ee(e){var n=e.formStages,a=S(n);return(0,t.jsxs)("div",{className:"jsx-f28306856e6ec443 accordion-item",children:[(0,t.jsx)("h2",{className:"jsx-f28306856e6ec443 h6 pb-3 mb-2 accordion-header",children:(0,t.jsxs)("a",{href:a.href,onClick:function(e){e.preventDefault(),n.stage1||R.Am.error("Please complete stage 1")},"data-bs-toggle":"collapse",className:"jsx-f28306856e6ec443 "+(a.headClassName||""),children:[(0,t.jsx)("span",{className:"jsx-f28306856e6ec443 badge-custom me-2",children:"2"}),"Choose payment method"]})}),(0,t.jsx)("div",{id:"payment","data-bs-parent":"#shipping-form",className:"jsx-f28306856e6ec443 "+(a.bodyClassName||""),children:(0,t.jsx)("div",{className:"jsx-f28306856e6ec443 ",children:(0,t.jsx)("div",{className:"jsx-f28306856e6ec443 accordion-body",children:(0,t.jsxs)("div",{id:"payment-method",className:"jsx-f28306856e6ec443 accordion mb-2",children:[(0,t.jsx)(Q,{formStages:n}),(0,t.jsx)(J,{}),(0,t.jsx)(U,{})]})})})}),(0,t.jsx)(l.default,{id:"f28306856e6ec443",children:".badge-custom.jsx-f28306856e6ec443 {height:25px;\nwidth:25px;\nbackground-color:#fe696a;\ncolor:white;\ndisplay:-webkit-box;\ndisplay:-webkit-flex;\ndisplay:-ms-flexbox;\ndisplay:flex;\n-webkit-justify-content:center;\njustify-content:center;\n-webkit-align-items:center;\n-webkit-box-align:center;\n-ms-flex-align:center;\nalign-items:center;\nborder-radius:50%;\nfont-weight:bold;\nfont-size:14px}"})]})}function ne(){var e=(0,p.C)((function(e){return e.auth})).userDetail,n=(0,p.T)(),a=B(),s=a.airwallex,l=a.airwallexPaymentIntent,o=(0,r.useState)({stage1:!1,shippingForm:null,stage2:!1}),d=o[0],m=o[1],u=(0,c.jD)().cart;return(0,r.useEffect)((function(){D(null===s||void 0===s?void 0:s.clientSecret)?n((0,I.Yl)(!0)):(n((0,I.Yl)(!1)),l())}),[]),(0,t.jsxs)("div",{children:[(0,t.jsx)(i.Z,{title:"Checkout",breadcrumb:"Checkout"}),(0,t.jsx)("div",{className:"container",children:(0,t.jsxs)("div",{className:"row mb-5",children:[(0,t.jsxs)("section",{className:"col-lg-8 d-flex flex-column",children:[(0,t.jsx)("div",{className:"d-sm-flex justify-content-between align-items-center bg-secondary p-4 rounded-3 mb-grid-gutter",children:(0,t.jsxs)("div",{className:"d-flex align-items-center",children:[(0,t.jsxs)("div",{className:"img-thumbnail rounded-circle position-relative flex-shrink-0",children:[(0,t.jsx)("span",{className:"badge bg-warning position-absolute end-0 mt-n2","data-bs-toggle":"tooltip",title:"Reward points",children:"384"}),(0,t.jsx)("img",{className:"rounded-circle",src:"/img/shop/account/avatar.jpg",width:"90",alt:"Susan Gardner"})]}),(0,t.jsxs)("div",{className:"ps-3",children:[(0,t.jsxs)("h3",{className:"fs-base mb-0",children:[null===e||void 0===e?void 0:e.firstName," ",null===e||void 0===e?void 0:e.lastName]}),(0,t.jsx)("span",{className:"text-accent fs-sm",children:null===e||void 0===e?void 0:e.email})]})]})}),(0,t.jsxs)("div",{className:"accordion mb-3",id:"shipping-form",children:[(0,t.jsx)(T,{formStages:d,setFormStages:m}),(0,t.jsx)(ee,{formStages:d})]})]}),u&&(0,t.jsx)(v.Z,{cart:u})]})})]})}function ae(){var e=B().generateAirwallexAccessToken;return(0,r.useEffect)((function(){e()}),[]),(0,t.jsx)(s.Z,{title:"Checkout your order",children:(0,t.jsx)(ne,{})})}}},function(e){e.O(0,[774,249,21,454,873,477,519,888,179],(function(){return n=44050,e(e.s=n);var n}));var n=e.O();_N_E=n}]);