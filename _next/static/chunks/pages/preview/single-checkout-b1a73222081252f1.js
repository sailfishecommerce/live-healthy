(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[808],{44050:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/preview/single-checkout",function(){return t(28701)}])},59965:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var r=t(85893),a=t(41664);function s(e){var n=e.title,t=e.breadcrumb;return(0,r.jsx)("div",{className:"page-title-overlap bg-dark pt-4 w-100",children:(0,r.jsxs)("div",{className:"container d-lg-flex justify-content-between py-2 py-lg-3",children:[(0,r.jsx)("div",{className:"order-lg-2 mb-3 mb-lg-0 pt-lg-2",children:(0,r.jsx)("nav",{"aria-label":"breadcrumb",children:(0,r.jsxs)("ol",{className:"breadcrumb breadcrumb-light flex-lg-nowrap justify-content-center justify-content-lg-start",children:[(0,r.jsx)("li",{className:"breadcrumb-item",children:(0,r.jsx)(a.default,{href:"/",passHref:!0,children:(0,r.jsxs)("a",{className:"text-nowrap",children:[(0,r.jsx)("i",{className:"ci-home"}),"Home"]})})}),(0,r.jsx)("li",{className:"breadcrumb-item text-nowrap",children:(0,r.jsx)(a.default,{href:"/shop",passHref:!0,children:(0,r.jsx)("a",{children:"Shop"})})}),(0,r.jsx)("li",{className:"breadcrumb-item text-nowrap active","aria-current":"page",children:t})]})})}),(0,r.jsx)("div",{className:"order-lg-1 pe-lg-4 text-center text-lg-start",children:(0,r.jsx)("h1",{className:"h3 text-light mb-0",children:n})})]})})}},20217:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(85893),a=t(41664),s=t(87968),i=t(40546),c=t(51581);function o(e){var n=e.item;return(0,r.jsxs)("div",{className:"d-flex align-items-center py-2 border-bottom",children:[(0,r.jsx)(a.default,{href:"/shop-single-v1",passHref:!0,children:(0,r.jsx)("a",{className:"d-block flex-shrink-0",children:(0,r.jsx)("img",{src:n.product.images[0].file.url,alt:n.product.name,width:"64"})})}),(0,r.jsxs)("div",{className:"ps-2",children:[(0,r.jsx)("h6",{className:"widget-product-title",children:(0,r.jsx)(a.default,{href:"/products/".concat(n.product.slug),passHref:!0,children:(0,r.jsx)("a",{children:n.product.name})})}),(0,r.jsxs)("div",{className:"widget-product-meta d-flex align-items-baseline",children:[(0,r.jsx)("span",{className:"text-accent me-2",children:(0,r.jsx)(i.Z,{price:n.price})}),(0,r.jsxs)("span",{className:"text-muted",children:["x ",n.quantity]})]})]})]})}function l(e){var n=e.cart,t=(0,c.Z)(),a=t.loading,l=t.couponInputHandler,d=t.onSubmitCoupon;return(0,r.jsx)("aside",{className:"col-lg-4 pt-4 pt-lg-0 ps-xl-5",children:(0,r.jsx)("div",{className:"bg-white rounded-3 shadow-lg p-4 ms-lg-auto",children:(0,r.jsxs)("div",{className:"py-2 px-xl-2",children:[(0,r.jsxs)("div",{className:"widget mb-3",children:[(0,r.jsx)("h2",{className:"widget-title text-center",children:"Order summary"}),n&&n.items.map((function(e,n){return(0,r.jsx)(o,{item:e},"".concat(e.productId,"-").concat(n,"}"))}))]}),n&&(0,r.jsxs)("ul",{className:"list-unstyled fs-sm pb-2 border-bottom",children:[(0,r.jsxs)("li",{className:"d-flex justify-content-between align-items-center",children:[(0,r.jsx)("span",{className:"me-2",children:"Subtotal:"}),(0,r.jsx)("span",{className:"text-end",children:(0,r.jsx)(i.Z,{price:n.subTotal})})]}),(0,r.jsxs)("li",{className:"d-flex justify-content-between align-items-center",children:[(0,r.jsx)("span",{className:"me-2",children:"Shipping:"}),(0,r.jsx)("span",{className:"text-end",children:(0,r.jsx)(i.Z,{price:n.shipmentTotal})})]}),(0,r.jsxs)("li",{className:"d-flex justify-content-between align-items-center",children:[(0,r.jsx)("span",{className:"me-2",children:"Taxes:"}),(0,r.jsx)("span",{className:"text-end",children:(0,r.jsx)(i.Z,{price:n.taxTotal})})]}),(0,r.jsxs)("li",{className:"d-flex justify-content-between align-items-center",children:[(0,r.jsx)("span",{className:"me-2",children:"Discount:"}),(0,r.jsx)("span",{className:"text-end",children:(0,r.jsx)(i.Z,{price:n.discountTotal})})]})]}),n&&(0,r.jsx)("h3",{className:"fw-normal text-center my-4",children:(0,r.jsx)(i.Z,{price:n.grandTotal})}),(0,r.jsxs)("form",{onSubmit:d,className:"needs-validation",children:[(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("input",{className:"form-control",type:"text",onChange:l,placeholder:"Promo code",required:!0}),(0,r.jsx)("div",{className:"invalid-feedback",children:"Please provide promo code."})]}),(0,r.jsx)(s.z,{className:"btn btn-outline-primary d-block w-100",loading:a,disable:a,text:"Apply promo code",type:"submit"})]})]})})})}},5769:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var r=t(85893),a=t(9008),s=t(4298),i=t(89555),c=t(34967),o=t(32519),l=t(65988);function d(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{id:"bar",className:"jsx-d674f3251d8e2de7",children:(0,r.jsx)("div",{className:"jsx-d674f3251d8e2de7"})}),(0,r.jsx)(l.default,{id:"d674f3251d8e2de7",children:'#bar.jsx-d674f3251d8e2de7 {position:fixed;\nz-index:1000000;\ntop:0px;\nleft:50%;\n-webkit-transform:translate(-50%, -50%);\n-moz-transform:translate(-50%, -50%);\n-ms-transform:translate(-50%, -50%);\n-webkit-transform:translate(-50%, -50%);\n-moz-transform:translate(-50%, -50%);\n-ms-transform:translate(-50%, -50%);\ntransform:translate(-50%, -50%);\nwidth:100%;\nheight:15px;\nbackground:#f9b3b3;\noverflow:hidden}\n#bar.jsx-d674f3251d8e2de7 div.jsx-d674f3251d8e2de7::before {content:"";\nposition:absolute;\ntop:0px;\nleft:0px;\nbottom:0px;\nbackground:#f54c4c;\n-webkit-animation:Line1 2100ms cubic-bezier(0.65, 0.81, 0.73, 0.4) infinite;\n-webkit-animation:Line1 1000ms cubic-bezier(0.65, 0.81, 0.73, 0.4) infinite;\nanimation:Line1 1000ms cubic-bezier(0.65, 0.81, 0.73, 0.4) infinite}\n@keyframes Line1 {0% {left:-35%;\nright:100%}60%, 100% {left:100%;\nright:-90%}}\n#bar.jsx-d674f3251d8e2de7 div.jsx-d674f3251d8e2de7:after {content:"";\nposition:absolute;\ntop:0px;\nleft:0px;\nbackground:#f54c4c;\n-webkit-animation:Line2 2100ms cubic-bezier(0.16, 0.84, 0.44, 1) infinite;\n-webkit-animation:Line2 1500ms cubic-bezier(0.16, 0.84, 0.44, 1) infinite;\nanimation:Line2 1500ms cubic-bezier(0.16, 0.84, 0.44, 1) infinite;\nanimation-delay:20ms}\n@keyframes Line2 {0% {left:-200%;\nright:100%}60%, 100% {left:107%;\nright:-8%}}'})]})}var u=t(18079);function m(e){var n=e.children,t=e.title,l=(0,u.Z)().loading;return(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(s.default,{strategy:"beforeInteractive",id:"truconversionScript",children:"\n        var _tip = _tip || [];\n        (function(d,s,id){\n            var js, tjs = d.getElementsByTagName(s)[0];\n            if(d.getElementById(id)) { return; }\n            js = d.createElement(s); js.id = id;\n            js.async = true;\n            js.src = d.location.protocol + '//app.truconversion.com/ti-js/19189/ae4b0.js';\n            tjs.parentNode.insertBefore(js, tjs);\n        }(document, 'script', 'ti-js'));                       \n      "}),(0,r.jsxs)(a.default,{children:[(0,r.jsx)("title",{children:t}),(0,r.jsx)("script",{src:"https://en.trustmate.io/api/widget/4420c1ed-e3a7-47c2-b6a2-2d7386a819da/script",defer:!0}),(0,r.jsx)("script",{src:"https://en.trustmate.io/api/widget/01739a85-4698-4d4c-90d5-876048fba847/script",defer:!0})]}),l&&(0,r.jsx)(d,{}),(0,r.jsx)(i.Z,{headerSliderText1:"Free shipping Worldwide",headerSliderText2:"Trusted by Doctors & Medical Professionals",headerSliderText3:"Delivery to your doorstep",icon1:"globe.png",icon2:"checkIcon.png",icon3:"delivery.png",support:"00123-456-789",topbarBgColor:"#373F50",navBgColor:"white",local:!0}),n,(0,r.jsx)("div",{id:"4420c1ed-e3a7-47c2-b6a2-2d7386a819da"}),(0,r.jsx)("div",{id:"01739a85-4698-4d4c-90d5-876048fba847"}),(0,r.jsx)(c.Z,{topSectionBgColor:"#373F50",bottomSectionBgColor:"#2B3445"})]})}},28701:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return te}});var r=t(85893),a=t(67294),s=t(5769),i=t(59965),c=t(18867),o=t(65988),l=t(82580),d=JSON.parse('{"v6":{"k":[[{"name":"firstName","id":"checkout-firstName","label":"First name *","type":"input","inputType":"text"},{"name":"lastName","id":"checkout-lastName","label":"Last name *","type":"input","inputType":"text"}],[{"name":"email","label":"E-mail *","id":"checkout-email","type":"input","inputType":"email"},{"name":"companyName","id":"checkout-companyName","label":"Company\'s name *","type":"input","inputType":"text"}],[{"name":"country","type":"selectCountry","id":"checkout-country","label":"Country *"},{"name":"address1","type":"searchLocationInput","id":"checkout-address1","inputType":"text","label":"Address - Line 1 *"}]]},"Y2":{"k":[{"flag":"/logo/ukFlag.webp","currencyCode":"GBP","currency":"Great Britain Pound","vboutListCode":"55747","country":"United Kingdom"},{"flag":"/logo/europeFlag.png","currencyCode":"EUR","currency":"Euro","vboutListCode":"55748","country":"Estonia (Europe)"},{"flag":"/logo/australia.webp","currencyCode":"AUD","currency":"Australian Dollar","vboutListCode":"55746","country":"Australia"},{"flag":"/logo/usaFlag.svg","currencyCode":"USD","currency":"United States Dollar","vboutListCode":"55580","country":"United States"},{"flag":"/logo/hongkongFlag.png","currencyCode":"HKD","currency":"Hong Kong Dollar","vboutListCode":"55745","country":"Hong Kong (China)"}]}}'),u=t(74231),m=u.Ry({firstName:u.Z_().required("First name is required"),lastName:u.Z_().required("Last name is required"),email:u.Z_().email("Enter a valid email address").required("E-mail address is required"),companyName:u.Z_().required("Company name is required"),country:u.Z_().required("Country is required"),state:u.Z_().required("State is required"),city:u.Z_().required("City is required"),zip:u.Z_().required("Zip Code is required"),address1:u.Z_().required("Address is required"),address2:u.Z_().notRequired()}),f=t(50950),p=t(39226);const b={prod:"checkout.airwallex.com",demo:"checkout-demo.airwallex.com",staging:"checkout-staging.airwallex.com",qa:"checkoutui.qa.awx.im",preview:"checkoutui.preview.awx.im",dev:"localhost:3000"},x=e=>`https://${b[e]||b.prod}`,h="/assets/elements.bundle.min.js",g=async e=>{if("undefined"==typeof window)return null;if(window.Airwallex)return window.Airwallex;let n=0;const t=async()=>{const n=document.querySelector(`script[src="${h}"], script[src="${h}/"]`)||(e=>{const n=document.createElement("script");n.src=`${e}${h}`;const t=document.head||document.body;if(!t)throw new Error("Airwallex payment scripts requires a <head> or <body> html element in order to be loaded.");return t.appendChild(n),n})(x((null==e?void 0:e.env)||"prod"));return new Promise(((t,r)=>{n.addEventListener("load",(()=>{window.Airwallex?(window.Airwallex.init(e),t(window.Airwallex)):r(new Error("Failed to load Airwallex on load event"))})),n.addEventListener("error",(()=>{r(new Error("Failed to load Airwallex scripts")),n.remove&&n.remove()}))}))};for(;n<3;)try{return await t()}catch(e){n++,await new Promise((e=>window.setTimeout(e,500)))}return null};var j=t(11163);function v(e){var n=e.intent_id,t=e.client_secret,s=(0,a.useState)(!1),i=s[0],c=s[1],o=(0,a.useState)(!1),l=o[0],d=o[1],u=(0,a.useState)(""),m=u[0],f=u[1],p=(0,j.useRouter)();(0,a.useEffect)((function(){g({env:"demo",origin:window.location.origin,fonts:[{src:"https://checkout.airwallex.com/fonts/CircularXXWeb/CircularXXWeb-Regular.woff2",family:"AxLLCircular",weight:400}]}).then((function(){var e;null===(e=((e,n)=>window.Airwallex?window.Airwallex.createElement(e,n):(console.error("Please loadAirwallex() before createElement();"),null))("card"))||void 0===e||e.mount("airwallexCard")}));var e=function(e){c(!0),console.log("Elements ready with ".concat(JSON.stringify(e.detail)))},n=function(e){var n,t=e.detail.error;d(!1),f(null!==(n=t.message)&&void 0!==n?n:JSON.stringify(t)),console.error("There is an error",t)};return window.addEventListener("onReady",e),window.addEventListener("onError",n),function(){window.removeEventListener("onReady",e),window.removeEventListener("onError",n)}}),[]);return(0,r.jsxs)("div",{children:[!i&&(0,r.jsx)("p",{children:"Loading..."}),m.length>0&&(0,r.jsx)("p",{className:"alert bg-danger text-white text-center fw-bold",id:"error",children:m}),(0,r.jsxs)("div",{className:"field-container",style:{display:i?"block":"none"},children:[(0,r.jsx)("div",{id:"airwallexCard",className:"form-control"}),(0,r.jsx)("button",{className:"btn btn-outline-primary d-flex m-auto mt-4 mb-2",onClick:function(){d(!0),f("");var e=(e=>window.Airwallex?window.Airwallex.getElement(e):(console.error("Please loadAirwallex() before getElement();"),null))("card");e&&(async e=>{if(window.Airwallex)return window.Airwallex.confirmPaymentIntent(e);{const e="Please loadAirwallex() before confirmPaymentIntent();";throw console.error(e),new Error(e)}})({element:e,id:n,client_secret:t,payment_method_options:{card:{auto_capture:!0}}}).then((function(e){d(!1),window.alert("Payment Intent confirmation was successful: ".concat(JSON.stringify(e))),p.push("/checkout-complete")})).catch((function(e){var n;d(!1),f(null!==(n=e.message)&&void 0!==n?n:JSON.stringify(e)),console.error("There is an error",e)}))},disabled:l,children:"Submit"})]})]})}var y=t(20217),w=JSON.parse('[[{"name":"city","type":"input","inputType":"text","label":"City *"},{"name":"zip","type":"input","inputType":"text","label":"Zip code *"}],[{"name":"state","type":"input","inputType":"text","label":"State *"},{"name":"address2","type":"input","inputType":"text","label":"Address - Line 2"}]]');function N(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function k(e){var n=e.formik,t=function(e){e.preventDefault(),n.setValues(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){N(e,n,t[n])}))}return e}({},n.values,N({},e.target.name,e.target.value)))};return(0,r.jsx)("div",{children:w.map((function(e,a){return(0,r.jsx)("div",{className:"row",children:e.map((function(e,a){return(0,r.jsx)("div",{className:"col-sm-6",children:(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{className:"form-label",htmlFor:e.name,children:e.label}),(0,r.jsx)("input",{value:n.values[e.name],className:"form-control",onChange:t,name:e.name}),(0,r.jsx)("p",{style:{fontSize:"12px"},className:"text-danger",children:n.errors[e.name]&&n.errors[e.name]})]})},a)}))},a)}))})}var S=function(e){return{href:e.stage1?"#payment":"nill",headClassName:e.stage1?"accordion-button":"accordion-button collapsed",bodyClassName:e.stage1?"accordion-collapse collapse show":"accordion-collapse collapse",shippingBody:e.stage1?"accordion-collapse collapse":"accordion-collapse collapse show",shippingHead:e.stage1?"accordion-button collapsed":"accordion-button"}},C=t(79304);function E(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function T(e){var n=e.formStages,t=e.setFormStages,a=S(n),s=function(){var e=(0,p.C)((function(e){return e.auth})).userDetail,n=(0,p.C)((function(e){return e.payment})).paymentForm;return{formValues:{firstName:n?n.firstName:e?e.firstName:"",lastName:n?n.lastName:e?e.lastName:"",email:n?n.email:e?e.email:"",companyName:n?n.companyName:"",country:n?n.country:"",address1:n?n.address1:"",state:n?n.state:"",city:n?n.city:"",zip:n?n.zip:"",address2:n?n.address2:""}}}().formValues,i=(0,p.T)();return(0,r.jsxs)("div",{className:"jsx-f28306856e6ec443 accordion-item",children:[(0,r.jsx)("h2",{className:"jsx-f28306856e6ec443 h6 pt-1 pb-3 mb-3 accordion-header",children:(0,r.jsxs)("a",{href:"#form1","data-bs-toggle":"collapse",className:"jsx-f28306856e6ec443 "+(a.shippingHead||""),children:[(0,r.jsx)("span",{className:"jsx-f28306856e6ec443 badge-custom me-2",children:"1"}),"Shipping address"]})}),(0,r.jsx)("div",{id:"form1","data-bs-parent":"#shipping-form",className:"jsx-f28306856e6ec443 "+(a.shippingBody||""),children:(0,r.jsx)("div",{className:"jsx-f28306856e6ec443 accordion-body",children:(0,r.jsx)(l.J9,{initialValues:s,validationSchema:m,onSubmit:function(e,r){var a=r.setSubmitting;t(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){E(e,n,t[n])}))}return e}({},n,{shippingForm:e,stage1:!0})),a(!1),i((0,C.s8)({form:e,completed:!0}))},children:function(e){return(0,r.jsxs)("form",{onSubmit:e.handleSubmit,className:"jsx-f28306856e6ec443",children:[(0,r.jsxs)("div",{className:"jsx-f28306856e6ec443",children:[d.v6.k.map((function(n,t){return(0,r.jsx)("div",{className:"jsx-f28306856e6ec443 row",children:n.map((function(n,t){return(0,r.jsx)("div",{className:"jsx-f28306856e6ec443 col-sm-6",children:(0,f.Bu)(n,e)},t)}))},t)})),(0,r.jsx)(k,{formik:e})]}),(0,r.jsx)("button",{type:"submit",disabled:e.isSubmitting,className:"jsx-f28306856e6ec443 btn btn-outline-primary d-flex mt-3 mb-2 mx-auto font-bold",children:"Proceed"})]})}})})}),(0,r.jsx)(o.default,{id:"f28306856e6ec443",children:".badge-custom.jsx-f28306856e6ec443 {height:25px;\nwidth:25px;\nbackground-color:#fe696a;\ncolor:white;\ndisplay:-webkit-box;\ndisplay:-webkit-flex;\ndisplay:-ms-flexbox;\ndisplay:flex;\n-webkit-justify-content:center;\njustify-content:center;\n-webkit-align-items:center;\n-webkit-box-align:center;\n-ms-flex-align:center;\nalign-items:center;\nborder-radius:50%;\nfont-weight:bold;\nfont-size:14px}"})]})}var P=t(9669),A=t.n(P),_=t(25934);function O(e){this.message=e}O.prototype=new Error,O.prototype.name="InvalidCharacterError";var Z="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var n=String(e).replace(/=+$/,"");if(n.length%4==1)throw new O("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,r,a=0,s=0,i="";r=n.charAt(s++);~r&&(t=a%4?64*t+r:r,a++%4)?i+=String.fromCharCode(255&t>>(-2*a&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return i};function q(e){this.message=e}q.prototype=new Error,q.prototype.name="InvalidTokenError";var L=function(e,n){if("string"!=typeof e)throw new q("Invalid token specified");var t=!0===(n=n||{}).header?0:1;try{return JSON.parse(function(e){var n=e.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(Z(e).replace(/(.)/g,(function(e,n){var t=n.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t="0"+t),"%"+t})))}(n)}catch(e){return Z(n)}}(e.split(".")[t]))}catch(e){throw new q("Invalid token specified: "+e.message)}},I=t(73499);function z(e){return!!e&&function(e){var n=1e3*(Number(e)-600),t=new Date;return new Date(n)>t}(function(e){return L(e)}(e).exp)}var D=t(14333),B=t(19789);function F(){var e=(0,D.T)(),n=(0,B.Z)().cart,t=(0,p.C)((function(e){return e.airwallex})),r={paymentDetails:n&&{request_id:(0,_.Z)(),amount:n.grandTotal,currency:null===n||void 0===n?void 0:n.currency,merchant_order_id:null===n||void 0===n?void 0:n.id,order:{products:null===n||void 0===n?void 0:n.items}},auth:null===t||void 0===t?void 0:t.accessToken};return{generateAirwallexAccessToken:function(){var n;!!(n=null===t||void 0===t?void 0:t.tokenExpiryDate)&&new Date(n)>new Date?e((0,I.lX)(!0)):(e((0,I.lX)(!1)),function(e){A().get("/api/get-payment-token").then((function(n){var t=n.data;console.log("paymentToken",t);var r={accessToken:t.token,tokenExpiryDate:t.expires_at};e((0,I.xl)(r)),e((0,I.lz)(null))})).catch((function(n){console.log("error",n),e((0,I.lz)(null===n||void 0===n?void 0:n.message))}))}(e))},airwallex:t,airwallexPaymentIntent:function(){if(n)return A().post("/api/create-payment-intent",r).then((function(n){var t={clientSecret:n.data.client_secret,paymentIntentId:n.data.id};e((0,I.ud)(t)),e((0,I.lz)(null))})).catch((function(n){console.log("error",n),e((0,I.lz)(null===n||void 0===n?void 0:n.message))}))}}}var R=t(40782),U=t(52705);function H(){var e=function(e){s(e.target.value)},n=(0,a.useState)(""),t=n[0],s=n[1],i=(0,U.Z)().sendBankTransfer,l=(0,p.C)((function(e){return e.payment})).paymentForm,u=(0,c.pm)(),m=u.isLoading,f=u.hasError,b=u.isSuccessful,x=(0,c.r$)().updateLoadingState;return console.log("bank",t),(0,r.jsxs)("div",{className:"jsx-8bbbcd50f8ac3ba8 accordion-item",children:[(0,r.jsx)("h3",{className:"jsx-8bbbcd50f8ac3ba8 accordion-header",children:(0,r.jsxs)("a",{href:"#points","data-bs-toggle":"collapse",className:"jsx-8bbbcd50f8ac3ba8 accordion-button collapsed",children:[(0,r.jsx)("i",{className:"jsx-8bbbcd50f8ac3ba8 ci-gift me-2"}),"Bank Transfer"]})}),(0,r.jsxs)("div",{id:"points","data-bs-parent":"#payment-method",className:"jsx-8bbbcd50f8ac3ba8 accordion-collapse collapse",children:[(0,r.jsx)("p",{className:"jsx-8bbbcd50f8ac3ba8 mt-2 mb-0 text-center",children:"Please select your preferred country and currency pair for payment to our bank accounts"}),(0,r.jsx)("div",{className:"jsx-8bbbcd50f8ac3ba8 accordion-body",children:(0,r.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=m();x(),i(null===l||void 0===l?void 0:l.email,t).then((function(e){console.log("response sendBankTransfer",e),b(n,"An email has been sent to ".concat(null===l||void 0===l?void 0:l.email)),x()})).catch((function(e){console.error("error sendBankTransfer",e),f(n,"an error occured"),x()}))},className:"jsx-8bbbcd50f8ac3ba8",children:[(0,r.jsxs)("table",{className:"jsx-8bbbcd50f8ac3ba8 manualTransfer mb-3",children:[(0,r.jsx)("thead",{className:"jsx-8bbbcd50f8ac3ba8",children:(0,r.jsxs)("tr",{className:"jsx-8bbbcd50f8ac3ba8 border-bottom",children:[(0,r.jsx)("th",{className:"jsx-8bbbcd50f8ac3ba8",children:"CURRENCY"}),(0,r.jsx)("th",{className:"jsx-8bbbcd50f8ac3ba8",children:"BANK LOCATION"})]})}),(0,r.jsx)("tbody",{className:"jsx-8bbbcd50f8ac3ba8",children:d.Y2.k.map((function(n,t){return(0,r.jsxs)("tr",{className:"jsx-8bbbcd50f8ac3ba8 border-bottom",children:[(0,r.jsxs)("td",{className:"jsx-8bbbcd50f8ac3ba8 d-flex align-items-center my-1",children:[(0,r.jsx)("input",{type:"radio",name:"bankTransfer",onChange:e,value:n.vboutListCode,required:!0,className:"jsx-8bbbcd50f8ac3ba8"}),(0,r.jsxs)("div",{className:"jsx-8bbbcd50f8ac3ba8 d-flex align-items-center",children:[(0,r.jsx)("img",{src:n.flag,alt:n.country,height:"30px",width:"30px",className:"jsx-8bbbcd50f8ac3ba8 mx-3"}),(0,r.jsxs)("div",{className:"jsx-8bbbcd50f8ac3ba8 currency d-flex flex-column",children:[(0,r.jsx)("h6",{className:"jsx-8bbbcd50f8ac3ba8 fw-bold",children:n.currencyCode}),(0,r.jsx)("p",{className:"jsx-8bbbcd50f8ac3ba8 text-muted",children:n.currency})]})]})]}),(0,r.jsx)("td",{className:"jsx-8bbbcd50f8ac3ba8",children:(0,r.jsx)("p",{className:"jsx-8bbbcd50f8ac3ba8 mb-0",children:n.country})})]},t)}))})]}),(0,r.jsx)("button",{type:"submit",className:"jsx-8bbbcd50f8ac3ba8 btn btn-outline-primary d-flex m-auto",children:"Submit"})]})})]}),(0,r.jsx)(o.default,{id:"8bbbcd50f8ac3ba8",children:".manualTransfer.jsx-8bbbcd50f8ac3ba8 th.jsx-8bbbcd50f8ac3ba8 {width:300px}"})]})}function W(){var e=F().airwallex;return(0,r.jsxs)("div",{className:"accordion-item",children:[(0,r.jsx)("h3",{className:"accordion-header",children:(0,r.jsxs)("a",{className:"accordion-button collapsed",href:"#paypal","data-bs-toggle":"collapse",children:[(0,r.jsx)("i",{className:"ci-paypal me-2 align-middle"}),"Pay with Airwallex"]})}),(0,r.jsx)("div",{className:"accordion-collapse collapse",id:"paypal","data-bs-parent":"#payment-method",children:(0,r.jsxs)("div",{className:"accordion-body fs-sm",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"fw-medium",children:"Airwallex"})," - the safer, easier way to pay"]}),e.paymentIntentId&&e.clientSecret&&(0,r.jsx)(v,{intent_id:e.paymentIntentId,client_secret:e.clientSecret})]})})]})}var J=t(74872),M={base:"form-control StripeElement"};var X=t(87968),$=t(58538),K=t(27713),Y=t.n(K);function V(e){var n=e.inputRef;return(0,r.jsx)("div",{className:"mb-0 col-sm-12",children:(0,r.jsx)("div",{ref:n,id:"card-element-id"})})}function G(e){var n=e.makePaymentHandler,t=e.loading;!function(){var e=(0,J.Z)(),n=e.swell;(0,e.initializeSwell)(),(0,a.useEffect)((function(){n.payment.createElements({card:{elementId:"#card-element-id",options:{classes:M,placeholder:"Credit Card Number",showIcon:!0,iconStyle:"solid"}}})}),[])}();var s=(0,a.useRef)(null),i=null===s;return(0,r.jsxs)("div",{className:"jsx-2f71c1976d754734 row px-0 d-flex flex-column",children:[(0,r.jsx)("div",{className:"jsx-2f71c1976d754734 d-flex mx-auto justify-content-center",children:null===s&&(0,r.jsx)($.ZP,{})}),(0,r.jsx)(V,{inputRef:s}),(0,r.jsx)("div",{className:"jsx-2f71c1976d754734 col-4 mx-auto mt-3",children:(0,r.jsx)(X.z,{onClick:n,disable:i,className:"".concat(Y().uiElement," btn-outline-primary d-block w-100 mt-0"),text:"Submit",loading:t})}),(0,r.jsx)(o.default,{id:"2f71c1976d754734",children:"button.btn.jsx-2f71c1976d754734 {position:relative}\n.loading.jsx-2f71c1976d754734 {margin-left:35px}"})]})}function Q(e){var n=e.formStages,t=(0,a.useState)(!1),s=(t[0],t[1]),i=(0,c.jB)(),o=i.makePayment,l=i.loadingState;return(0,r.jsxs)("div",{className:"accordion-item",children:[(0,r.jsx)("h3",{className:"accordion-header",children:(0,r.jsxs)("a",{className:"accordion-button",href:"#card","data-bs-toggle":"collapse",children:[(0,r.jsx)("i",{className:"ci-card fs-lg me-2 mt-n1 align-middle"}),"Pay with Credit Card (powered by Stripe)"]})}),(0,r.jsx)("div",{className:"accordion-collapse collapse show",id:"card","data-bs-parent":"#payment-method",children:(0,r.jsxs)("div",{className:"accordion-body",children:[(0,r.jsxs)("p",{className:"fs-sm",children:["We accept following credit cards:\xa0\xa0",(0,r.jsx)("img",{className:"d-inline-block align-middle",src:"/img/cards.png",width:"187",alt:"Cerdit Cards"})]}),(0,r.jsx)(G,{loading:l,makePaymentHandler:function(){s(!0),console.log("formStages.shippingForm",n.shippingForm),o(n.shippingForm,s).then((function(e){return console.log("makePayment",e)})).catch((function(e){return console.error("error",e)}))}})]})})]})}function ee(e){var n=e.formStages,t=S(n);return(0,r.jsxs)("div",{className:"jsx-f28306856e6ec443 accordion-item",children:[(0,r.jsx)("h2",{className:"jsx-f28306856e6ec443 h6 pb-3 mb-2 accordion-header",children:(0,r.jsxs)("a",{href:t.href,onClick:function(e){e.preventDefault(),n.stage1||R.Am.error("Please complete stage 1")},"data-bs-toggle":"collapse",className:"jsx-f28306856e6ec443 "+(t.headClassName||""),children:[(0,r.jsx)("span",{className:"jsx-f28306856e6ec443 badge-custom me-2",children:"2"}),"Choose payment method"]})}),(0,r.jsx)("div",{id:"payment","data-bs-parent":"#shipping-form",className:"jsx-f28306856e6ec443 "+(t.bodyClassName||""),children:(0,r.jsx)("div",{className:"jsx-f28306856e6ec443 ",children:(0,r.jsx)("div",{className:"jsx-f28306856e6ec443 accordion-body",children:(0,r.jsxs)("div",{id:"payment-method",className:"jsx-f28306856e6ec443 accordion mb-2",children:[(0,r.jsx)(Q,{formStages:n}),(0,r.jsx)(W,{}),(0,r.jsx)(H,{})]})})})}),(0,r.jsx)(o.default,{id:"f28306856e6ec443",children:".badge-custom.jsx-f28306856e6ec443 {height:25px;\nwidth:25px;\nbackground-color:#fe696a;\ncolor:white;\ndisplay:-webkit-box;\ndisplay:-webkit-flex;\ndisplay:-ms-flexbox;\ndisplay:flex;\n-webkit-justify-content:center;\njustify-content:center;\n-webkit-align-items:center;\n-webkit-box-align:center;\n-ms-flex-align:center;\nalign-items:center;\nborder-radius:50%;\nfont-weight:bold;\nfont-size:14px}"})]})}function ne(){var e=(0,p.C)((function(e){return e.auth})).userDetail,n=(0,p.T)(),t=F(),s=t.airwallex,o=t.airwallexPaymentIntent,l=(0,a.useState)({stage1:!1,shippingForm:null,stage2:!1}),d=l[0],u=l[1],m=(0,c.jD)().cart;return(0,a.useEffect)((function(){z(null===s||void 0===s?void 0:s.clientSecret)?n((0,I.Yl)(!0)):(n((0,I.Yl)(!1)),o())}),[]),(0,r.jsxs)("div",{children:[(0,r.jsx)(i.Z,{title:"Checkout",breadcrumb:"Checkout"}),(0,r.jsx)("div",{className:"container",children:(0,r.jsxs)("div",{className:"row mb-5",children:[(0,r.jsxs)("section",{className:"col-lg-8 d-flex flex-column",children:[(0,r.jsx)("div",{className:"d-sm-flex justify-content-between align-items-center bg-secondary p-4 rounded-3 mb-grid-gutter",children:(0,r.jsxs)("div",{className:"d-flex align-items-center",children:[(0,r.jsxs)("div",{className:"img-thumbnail rounded-circle position-relative flex-shrink-0",children:[(0,r.jsx)("span",{className:"badge bg-warning position-absolute end-0 mt-n2","data-bs-toggle":"tooltip",title:"Reward points",children:"384"}),(0,r.jsx)("img",{className:"rounded-circle",src:"/img/shop/account/avatar.jpg",width:"90",alt:"Susan Gardner"})]}),(0,r.jsxs)("div",{className:"ps-3",children:[(0,r.jsxs)("h3",{className:"fs-base mb-0",children:[null===e||void 0===e?void 0:e.firstName," ",null===e||void 0===e?void 0:e.lastName]}),(0,r.jsx)("span",{className:"text-accent fs-sm",children:null===e||void 0===e?void 0:e.email})]})]})}),(0,r.jsxs)("div",{className:"accordion mb-3",id:"shipping-form",children:[(0,r.jsx)(T,{formStages:d,setFormStages:u}),(0,r.jsx)(ee,{formStages:d})]})]}),m&&(0,r.jsx)(y.Z,{cart:m})]})})]})}function te(){var e=F().generateAirwallexAccessToken;return(0,a.useEffect)((function(){e()}),[]),(0,r.jsx)(s.Z,{title:"Checkout your order",children:(0,r.jsx)(ne,{})})}},40993:function(){},74865:function(e,n,t){var r,a;void 0===(a="function"===typeof(r=function(){var e={version:"0.2.0"},n=e.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function t(e,n,t){return e<n?n:e>t?t:e}function r(e){return 100*(-1+e)}function a(e,t,a){var s;return(s="translate3d"===n.positionUsing?{transform:"translate3d("+r(e)+"%,0,0)"}:"translate"===n.positionUsing?{transform:"translate("+r(e)+"%,0)"}:{"margin-left":r(e)+"%"}).transition="all "+t+"ms "+a,s}e.configure=function(e){var t,r;for(t in e)void 0!==(r=e[t])&&e.hasOwnProperty(t)&&(n[t]=r);return this},e.status=null,e.set=function(r){var c=e.isStarted();r=t(r,n.minimum,1),e.status=1===r?null:r;var o=e.render(!c),l=o.querySelector(n.barSelector),d=n.speed,u=n.easing;return o.offsetWidth,s((function(t){""===n.positionUsing&&(n.positionUsing=e.getPositioningCSS()),i(l,a(r,d,u)),1===r?(i(o,{transition:"none",opacity:1}),o.offsetWidth,setTimeout((function(){i(o,{transition:"all "+d+"ms linear",opacity:0}),setTimeout((function(){e.remove(),t()}),d)}),d)):setTimeout(t,d)})),this},e.isStarted=function(){return"number"===typeof e.status},e.start=function(){e.status||e.set(0);var t=function(){setTimeout((function(){e.status&&(e.trickle(),t())}),n.trickleSpeed)};return n.trickle&&t(),this},e.done=function(n){return n||e.status?e.inc(.3+.5*Math.random()).set(1):this},e.inc=function(n){var r=e.status;return r?("number"!==typeof n&&(n=(1-r)*t(Math.random()*r,.1,.95)),r=t(r+n,0,.994),e.set(r)):e.start()},e.trickle=function(){return e.inc(Math.random()*n.trickleRate)},function(){var n=0,t=0;e.promise=function(r){return r&&"resolved"!==r.state()?(0===t&&e.start(),n++,t++,r.always((function(){0===--t?(n=0,e.done()):e.set((n-t)/n)})),this):this}}(),e.render=function(t){if(e.isRendered())return document.getElementById("nprogress");o(document.documentElement,"nprogress-busy");var a=document.createElement("div");a.id="nprogress",a.innerHTML=n.template;var s,c=a.querySelector(n.barSelector),l=t?"-100":r(e.status||0),d=document.querySelector(n.parent);return i(c,{transition:"all 0 linear",transform:"translate3d("+l+"%,0,0)"}),n.showSpinner||(s=a.querySelector(n.spinnerSelector))&&u(s),d!=document.body&&o(d,"nprogress-custom-parent"),d.appendChild(a),a},e.remove=function(){l(document.documentElement,"nprogress-busy"),l(document.querySelector(n.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&u(e)},e.isRendered=function(){return!!document.getElementById("nprogress")},e.getPositioningCSS=function(){var e=document.body.style,n="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return n+"Perspective"in e?"translate3d":n+"Transform"in e?"translate":"margin"};var s=function(){var e=[];function n(){var t=e.shift();t&&t(n)}return function(t){e.push(t),1==e.length&&n()}}(),i=function(){var e=["Webkit","O","Moz","ms"],n={};function t(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(e,n){return n.toUpperCase()}))}function r(n){var t=document.body.style;if(n in t)return n;for(var r,a=e.length,s=n.charAt(0).toUpperCase()+n.slice(1);a--;)if((r=e[a]+s)in t)return r;return n}function a(e){return e=t(e),n[e]||(n[e]=r(e))}function s(e,n,t){n=a(n),e.style[n]=t}return function(e,n){var t,r,a=arguments;if(2==a.length)for(t in n)void 0!==(r=n[t])&&n.hasOwnProperty(t)&&s(e,t,r);else s(e,a[1],a[2])}}();function c(e,n){return("string"==typeof e?e:d(e)).indexOf(" "+n+" ")>=0}function o(e,n){var t=d(e),r=t+n;c(t,n)||(e.className=r.substring(1))}function l(e,n){var t,r=d(e);c(e,n)&&(t=r.replace(" "+n+" "," "),e.className=t.substring(1,t.length-1))}function d(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function u(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return e})?r.call(n,t,n,e):r)||(e.exports=a)}},function(e){e.O(0,[774,133,11,927,519,888,179],(function(){return n=44050,e(e.s=n);var n}));var n=e.O();_N_E=n}]);